/*
 * Created on $today.date ( Time $today.time )
 * Generated by $generator.name ( version $generator.version )
 */
#set ( $uncapitalizedEntityName = ${fn.uncapitalize($entity.name)})

// Load Modules
const express = require('express');
const router = express.Router();

// Load controller
const ${entity}Controller = require('../../controller/${uncapitalizedEntityName}Controller');
const ${uncapitalizedEntityName}Controller = new ${entity}Controller();

/**
 * $entity API routes
 */

router.get('/count', function (req, res) {
    ${uncapitalizedEntityName}Controller.countAll(res);
});
#set ( $entityAttributes = "" )
#foreach ( $key in $entity.keyAttributes )
#if ( $foreach.count > 1 )
#set ( $entityAttributes = $entityAttributes + "/:" )
#end
#set ( $entityAttributes = $entityAttributes + ${uncapitalizedEntityName} + "_" + ${fn.uncapitalize($key.name)} )
#end
router.get('/exists/:$entityAttributes', function (req, res) {
    ${uncapitalizedEntityName}Controller.exists(req, res);
});

router.get('/:$entityAttributes', function (req, res) {
    ${uncapitalizedEntityName}Controller.findById(req, res);
});

router.get('/', function (req, res) {
    ${uncapitalizedEntityName}Controller.findAll(res);
});

router.put('/:$entityAttributes', function (req, res) {
    ${uncapitalizedEntityName}Controller.update(req, res);
});

router.post('/create', function (req, res) {
    ${uncapitalizedEntityName}Controller.create(req, res);
});

router.delete('/:$entityAttributes', function (req, res) {
    ${uncapitalizedEntityName}Controller.deleteById(req, res);
});

module.exports = router;